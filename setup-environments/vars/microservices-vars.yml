---
# Project definition - add new microservices here
microservices:

  - name: project-api
    repo: estafet-microservices-scrum-api-project
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: false
    messaging: true
    setup:
      - name: create-postgres-db
        app: project-api
        repo: estafet-microservices-scrum-api-project
        reset_db: false

  - name: project-burndown
    repo: estafet-microservices-scrum-api-project-burndown
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: false 
    messaging: true
    setup:
      - name: create-postgres-db
        app: project-burndown
        repo: estafet-microservices-scrum-api-project-burndown
        reset_db: false    

  - name: sprint-api     
    repo: estafet-microservices-scrum-api-sprint  
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: false   
    messaging: true
    setup:
      - name: create-postgres-db
        app: sprint-api
        repo: estafet-microservices-scrum-api-sprint
        reset_db: false 

  - name: sprint-board
    repo: estafet-microservices-scrum-api-sprint-board
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: false   
    messaging: false

  - name: sprint-burndown
    repo: estafet-microservices-scrum-api-sprint-burndown
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile        
    expose: false  
    messaging: true
    setup:
      - name: create-postgres-db
        app: sprint-api
        repo: estafet-microservices-scrum-api-sprint
        reset_db: false

  - name: story-api
    repo: estafet-microservices-scrum-api-story
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: false    
    messaging: true

  - name: task-api
    repo: estafet-microservices-scrum-api-task 
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: false   
    messaging: true

  - name: basic-ui
    repo: estafet-microservices-scrum-basic-ui
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile    
    expose: true  
    messaging: false
